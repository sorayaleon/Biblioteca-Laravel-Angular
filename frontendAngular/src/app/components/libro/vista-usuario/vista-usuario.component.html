<div class="container" *ngIf="libro || establecimiento || usuario">
    
    <!--TITULO-->
    <div class="text-center">
        <h1>{{libro.titulo}}</h1>
        <br/><br/>
    </div>
    <div class="form-row">
    <!--PORTADA-->
    <div class="col-md-4 col-sm-6 col-xs-12" >     
        <img src="{{'http://127.0.0.1:8000/descargas/'+libro.portada}}" width="auto" height="450">  
    
        <!--AUTOR-->
        <div class="form-group">
            <h2>{{libro.autor}}</h2>
        </div>
        
        <!--CATEGORIA-->
        <div class="form-group">
            <h4>{{libro.categoria}}</h4>
        </div>

        <div class="form-group">
            <h4>{{libro.isbn}}</h4>
        </div>
        <div class="form-group">
            <h4>{{libro.codigo}}</h4>
        </div>
    </div>

    <div class="col-md-8 col-sm-6 col-xs-12">
        <!--DESCRIPCION-->
        <br/>
        <p>{{libro.descripcion}}</p>
        
        <p>{{libro.establecimiento}}</p>
    </div>
</div>

<div class="form-group">
    <div class="text-center">
        <button type="button" class="btn btn-primary btn-lg" [routerLink]="['/home']">Volver</button>&nbsp;  
        <div *ngIf="usuario.estado == 'activo'">
        <button type="button" class="btn btn-secondary btn-lg" (click)="solicitar(libro.id, libro.estado)">Solicitar</button>
        </div>
    </div>
</div>
    
<div class="form-group">
    <div class="text-center">
        <h2>COMENTARIOS</h2>
        
        <form #comentariosForm="ngForm" [formGroup]="formularioComentarios" (ngSubmit)="onSubmit(); formularioComentarios.reset()">
            <div class="col-md-8 col-sm-6 col-xs-12">
                    <label for="comentario">Comenta qu√© te ha parecido el libro:</label>
                    <textarea rows="8" cols="80" class="form-control" name="comentario" formControlName="comentario" [(ngModel)]="comentario.comentario"></textarea> 
            </div>
        
        <div class="form-group">
            <div class="text-center">
                <br/>
                <input type="submit" class="btn btn-primary btn-lg" value="Enviar" [disabled]="formularioComentarios.invalid">
            </div>
        </div>
        </form>

        <div *ngIf="comentarioLibro == 0">No hay comentarios</div>
        <div *ngIf="comentarioLibro != 0">
            <div *ngFor="let coment of comentario">
                <ng-container *ngIf="coment.idL == libro.id && coment.estado == 'activo'">
            <p>{{coment.alias}}</p>
            <p>{{coment.comentario}}</p>
            <ng-container *ngIf="tipo == 'admin'">
                <a class="btn btn-danger btn-sm" (click)="eliminarComentario(coment.id)"><i class="material-icons">delete</i></a>
            </ng-container>
        </ng-container>
        </div>
        </div>
        
        <pagination-controls (pageChange)="pageActual = $event"></pagination-controls> 

    </div>
</div>
</div>